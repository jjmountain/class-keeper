<%= simple_form_for(course) do |f| %>
    <%= f.input :school, 
      collection: School.select_value,
      selected:  course&.school&.id,
      include_blank: true,
      input_html: { class: 'remote-select', data: { target: '#course_faculty' } }      
    %>
    <template>
      <%= f.simple_fields_for :school, School.new do |school| %>
        <%= school.input :name, label: 'School not listed? Add one' %>
      <% end %>
    </template>

    <%= f.input :faculty,
      collection: Faculty.select_values(course&.school),
      selected: course&.faculty&.id
    %>
    
    <template>
      <%= f.simple_fields_for :faculty, Faculty.new do |faculty| %>
        <%= faculty.input :name, label: 'Faculty name' %>
      <% end %> 
    </template>

    <%= f.input :name, label: 'Course Name' %>
    <%= f.input :class_number, label: 'Class Number' %>
    <%= f.input :class_type, collection: ['Speaking', 'Writing'], include_blank: false, label: 'Class Focus' %>


    <%= f.input :description %>
    <div class="d-flex justify-content-between">
      <%= f.input :start_date, label: 'First Lesson Date', as: :string, input_html: { class: 'datepicker' } %>
      <%= f.input :end_date, label: 'Final Lesson Date', as: :string, input_html: { class: 'datepicker' } %>
    </div>
    <div class="d-flex justify-content-between">
      <%= f.input :lessons_per_week, label: 'Lessons per week', input_html: { class: 'w-10' } %>
      <%= f.input :weeks_per_course, label: 'Weeks in course', input_html: { class: 'w-10' } %>

    </div>

    <div class="form-actions">
      <%= f.button :submit, "Register", class: 'btn btn-primary' %>
    </div>
  <% end %>